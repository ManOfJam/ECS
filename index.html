<!DOCTYPE html>
<html lang="en-gb">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>ECS</title>
	</head>
	<body>
		<canvas id="canvas" style="border: 1px solid #000; display: block; margin: 72px auto 0;"></canvas>
		<script src="build/build.js"></script>
		<script>
			const demo = new engine.Stage(
				new engine.systems.Motion(),
				new engine.systems.Render("canvas")
			);

			demo.addEntity(
				new engine.Entity("transform", "size", "motion")
					.set({
						transform: {position: {x: 10, y: 10}},
						size: {x: 32, y: 32},
						motion: {x: 6, y: 4}
					})
					.on("update", function() {
						/* if(this.transform.position.y < 0 || (this.transform.position.y + this.size.y) > demo.height) {
							this.motion.y = -this.motion.y;

							if(this.transform.position.y < 0) {
								this.transform.position.y = 0;
							}

							if((this.transform.position.y + this.size.y) > demo.height) {
								this.transform.position.y = demo.height - this.size.y;
							}
						}

						if(this.transform.position.x < 0 || (this.transform.position.x + this.size.x) > demo.width) {
							this.motion.x = -this.motion.x;

							if(this.transform.position.x < 0) {
								this.transform.position.x = 0;
							}

							if((this.transform.position.x + this.size.x) > demo.width) {
								this.transform.position.x = demo.width - this.size.x;
							}
							
						} */
					})
			);

			demo.start();
		</script>
	</body>
</html>
